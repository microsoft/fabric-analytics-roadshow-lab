{
  "$schema": "https://developer.microsoft.com/json-schemas/fabric/item/dataAgent/definition/fewShots/1.0.0/schema.json",
  "fewShots": [
    {
      "id": "159df3ac-6097-4493-a885-50f4b1e4b8e9",
      "question": "What were the 5 states with the highest late delivery penalty cost?",
      "query": "SELECT TOP 5\r\n        a.state_abbreviation,\r\n        COUNT_BIG(*) AS late_shipment_count,\r\n        SUM(late_delivery_penalty) AS total_late_delivery_penalty\r\n    FROM fact.shipment AS s\r\n    INNER JOIN dim.address a\r\n        ON s.destination_address_sk = a.address_sk\r\n    WHERE\r\n        s.delivery_days_late > 0\r\n    GROUP BY\r\n        a.state_abbreviation\r\n    ORDER BY total_late_delivery_penalty DESC"
    },
    {
      "id": "1545c1f1-bdd3-4590-844d-1eeef3c34861",
      "question": "What are the top 10 category and subcategories with the longest average delivery days late?",
      "query": "    SELECT TOP 10\r\n        i.category,\r\n        i.subcategory,\r\n        CONVERT(DECIMAL(10,3), AVG(s.delivery_days_late * 1.0)) AS average_delivery_days_late,\r\n        COUNT(DISTINCT shipment_sk) AS late_delivery_count,\r\n        MAX(s.delivery_days_late) AS max_delivery_days_late\r\n    FROM fact.[order] AS o\r\n    INNER JOIN dim.item AS i\r\n        ON o.item_sk = i.item_sk\r\n    LEFT JOIN fact.shipment AS s\r\n        ON o.order_number = s.order_number\r\n    WHERE\r\n        s.delivery_days_late > 0\r\n    GROUP BY\r\n        i.category,\r\n        i.subcategory\r\n    ORDER BY average_delivery_days_late DESC"
    }
  ]
}